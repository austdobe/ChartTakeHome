(this["webpackJsonpfrontend-take-home-assignment"]=this["webpackJsonpfrontend-take-home-assignment"]||[]).push([[0],{41:function(n,e,t){"use strict";t.r(e);var i,o,c,r,a,s,l,d,b,u,j,h,p=t(0),g=t.n(p),x=t(22),f=t.n(x),O=t(4),v=t(8),k=t(28),m=t(27),w=t(14),y=t(13),S=t(29),z=t(5),A=t(6),C=A.a.div(i||(i=Object(z.a)([" \n    display: block;\n    position: relative;\n    width: 100%;\n\n    .y_label{\n        font-size: 18px;\n        text-align: left;\n        left:0;\n    }\n    .x_label {\n        display: absolute;\n        bottom: 0;\n        font-size: 18px;\n    }\n    \n"]))),W=t(1),D=function(n){for(var e=n.FirstWork,t=n.SecondWork,i=[],o=1;o<=n.Titles;o++)i.push("Title ".concat(o));Object(p.useMemo)((function(){e=n.FirstWork,t=n.SecondWork,function(){if(n.included){var o,c,r=n.Titles;i[r]="Best Seller",null===(o=n.FirstWork)||void 0===o||o.filter((function(t,i){t.title===n.firstBest&&(e.splice(i,1),e[r]=t)})),null===(c=n.SecondWork)||void 0===c||c.filter((function(e,i){e.title===n.secondBest&&(t.splice(i,1),t[r]=e)}))}}()}),[n.Titles,e,t,n.included,i]);var c=function(n){var e=n.map((function(n,e){if(e<i.length)return{x:e+1,y:n.revision,title:n.title}}));return e},r={labels:i,datasets:[{id:1,label:" Revisions ",data:c(e),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"},{id:2,label:" Revisions ",data:c(t),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return Object(W.jsxs)(C,{children:[Object(W.jsx)("h2",{className:"y_label",children:"Revisions"}),Object(W.jsx)("div",{children:Object(W.jsx)(S.a,{datasetIdKey:"id",options:{responsive:!0,layout:{padding:{top:10,right:10,left:50,bottom:10}},scales:{y:{suggestedMin:0,suggestedMax:50}},plugins:{tooltip:{callbacks:{title:function(n){return n.length>1?"1. ".concat(n[0].raw.title," \n2. ").concat(n[1].raw.title):"".concat(n[0].raw.title)},label:function(n){return"Revisions: ".concat(n.raw.y)}},bodyColor:"white",bodyFontSize:"50",padding:20},legend:{display:!1}}},data:r,height:"80%"})}),Object(W.jsx)("h2",{className:"x_label",children:"Works"})]})},F=A.a.div(o||(o=Object(z.a)([" \n    text-align: center;\n    display: grid;\n    grid-template-columns: auto auto auto auto;\n    grid-auto-flow: row dense;\n    justify-content: space-evenly;\n    text-align: center;\n    gap: 5px;\n    background-color: white;\n    font-size: 18px;\n    margin-top: 20px;;\n\n"]))),B=A.a.div(c||(c=Object(z.a)([" \n    text-align: center;\n    font-size: 30px;\n    background-color: #f3f6f4;\n\n"]))),N=A.a.form(r||(r=Object(z.a)([" \n    display: flex;\n    width: 100%;\n    margin: 10px auto;\n    align-items: center;\n    justify-items: center;\n    h3{\n        margin-left: 20px;\n    }\n\n    input {\n        height:50%;\n        font-size: 18px;\n        border: solid 1px #bcbcbc;\n        box-shadow: 1px 1px 5px 0 #bcbcbc;\n        &:hover{\n            border:solid 1px black;\n        }\n    }\n    .icon{\n        position: relative;\n        right:30px;\n        top:0;\n        font-size: 20px;\n        transform: rotateZ(90deg);\n        color: black;\n\n        &:hover{\n            color: #bcbcbc;\n        }\n    }\n    .Arrow {\n        align-self: center;\n        justify-self: center;\n        margin:0 10px;\n        color: black;\n\n        &:hover{\n            color: #bcbcbc;\n        }\n    }\n    button{\n        border:none;\n        background-color: transparent;\n    }\n"]))),T=A.a.input(a||(a=Object(z.a)([" \n    width:  100%;\n    font-size:18px;\n    padding: 5px 10px;\n    border-radius: 5px;\n"]))),M=A.a.input(s||(s=Object(z.a)([" \n    width: 30%;\n    text-align: center;\n    ::-webkit-outer-spin-button,\n    ::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n    }\n\n"]))),_=A.a.div(l||(l=Object(z.a)([" \n    width: 25px;\n    height: 25px;\n    border-radius: 4px;\n    text-align: center;\n    margin-left: 20px;\n    margin-right: 10px;\n    box-shadow: 0 0 0 2px #bcbcbc;\n    padding: 2px;\n\n    div{\n        height: 100%;\n        width: 100%;\n        border: none;\n    }\n\n    &:hover{\n            box-shadow: 0 0 0 2px black;\n        }\n\n"]))),R=A.a.div(d||(d=Object(z.a)([" \n    width: 100%;\n    height: 100%;\n\n"]))),E="https://openlibrary.org/search/authors.json?q=",I=A.a.div(b||(b=Object(z.a)([" \n    height: 100vh; \n    width: 100vw;\n    position:absolute;\n    top:0;\n    left:0;\n    display: grid;\n    justify-items: center;\n    justify-content: center;\n    align-content: center;\n    align-items: center;\n"]))),G=A.a.div(u||(u=Object(z.a)([" \n    position: absolute;\n    margin: 20px auto;\n    width: 400px;\n    color: white;\n    border-radius: 10px;;\n    background: linear-gradient(112.2deg, rgba(25,25,25,.7) -36.8%, rgba(25,25,25, .3) 112.3%);\n    font-size: 18px;\n    z-index: 99;\n    padding: 10px 20px;\n\n"]))),H=A.a.div(j||(j=Object(z.a)([" \n    width: 100%;\n    height: 30px;\n    border-radius: 20px;\n    background-color: red;\n\n\n"]))),J=A.a.div(h||(h=Object(z.a)([" \n    background-color: green;\n    height: 100%;\n    width: 100%;\n    border-radius: 25px;\n    z-index:99\n\n"]))),q=function(n){return Object(W.jsx)(I,{style:{display:n.isError?"":"none"},children:Object(W.jsxs)(G,{children:[Object(W.jsx)("h1",{children:"We recieved 0 results with that name."}),Object(W.jsx)("h1",{children:" Try an alternative spelling, or new search."}),Object(W.jsx)(H,{children:Object(W.jsx)(J,{style:{width:"".concat(n.timer,"%")}})})]})})},K=t(26),U={work:[]},Z=function(){var n=Object(p.useState)(U),e=Object(v.a)(n,2),t=e[0],i=e[1],o=Object(p.useState)(U),c=Object(v.a)(o,2),r=c[0],a=c[1],s=Object(p.useState)(""),l=Object(v.a)(s,2),d=l[0],b=l[1],u=Object(p.useState)(""),j=Object(v.a)(u,2),h=j[0],g=j[1],x=Object(p.useState)(4),f=Object(v.a)(x,2),O=f[0],S=f[1],z=Object(p.useState)(""),A=Object(v.a)(z,2),C=A[0],I=A[1],G=Object(p.useState)(""),H=Object(v.a)(G,2),J=H[0],Z=H[1],L=Object(p.useState)(!0),P=Object(v.a)(L,2),Q=P[0],V=P[1],X=Object(p.useState)(!0),Y=Object(v.a)(X,2),$=Y[0],nn=Y[1],en=Object(p.useState)(!1),tn=Object(v.a)(en,2),on=tn[0],cn=tn[1],rn=function(n,e){fetch("https://openlibrary.org/authors/".concat(n,"/works.json?limit=100")).then((function(n){return n.json()})).then((function(n){"First"===e&&i({work:n.entries}),"Second"===e&&a({work:n.entries})})).catch((function(n){console.log(n)}))},an=function(n){n.preventDefault(),fetch("".concat(E).concat(d)).then((function(n){if(n.ok)return n.json()})).then((function(n){n.numFound<=0&&(cn(!0),Object(K.setTimeout)((function(){return cn(!1)}),3e3)),b(n.docs[0].name),I(n.docs[0].top_work),rn(n.docs[0].key,"First")})).catch((function(n){return console.log(n)}))},sn=function(n){n.preventDefault(),fetch("".concat(E).concat(h)).then((function(n){return n.json()})).then((function(n){g(n.docs[0].name),Z(n.docs[0].top_work),rn(n.docs[0].key,"Second")})).catch((function(n){return console.log(n)}))};return Object(W.jsxs)(B,{"data-testid":"greetings-container",children:["Author Revision Head to Head",Object(W.jsx)(q,{isError:on,timer:100}),Object(W.jsxs)(F,{children:[Object(W.jsxs)(N,{onSubmit:an,"data-testid":"firstAuth",children:[Object(W.jsx)(T,{value:d,placeholder:"First Author",onChange:function(n){n.preventDefault();(/[a-z]/gi.test(n.target.value)||""===n.target.value)&&b(n.target.value)}}),Object(W.jsx)("div",{className:"icon",children:Object(W.jsx)(y.a,{icon:w.faMagnifyingGlass,onClick:an})})]}),Object(W.jsxs)(N,{onSubmit:sn,"data-testid":"secondAuth",children:[Object(W.jsx)(T,{"data-testid":"secondAuth",value:h,placeholder:"Second Author",onChange:function(n){n.preventDefault();(/[a-z]/gi.test(n.target.value)||""===n.target.value)&&g(n.target.value)}}),Object(W.jsx)("div",{className:"icon",children:Object(W.jsx)(y.a,{icon:w.faMagnifyingGlass,onClick:sn})})]}),Object(W.jsxs)(N,{children:[Object(W.jsx)("button",{onClick:function(n){n.preventDefault();O>1&&S(O-1)},children:Object(W.jsx)(y.a,{className:"Arrow",icon:m.faAngleDown})}),Object(W.jsx)(M,{placeholder:O,name:"works",type:"number",value:O,onChange:function(n){n.preventDefault(),S(n.target.value)}}),Object(W.jsx)("button",{onClick:function(n){n.preventDefault(),S(O+1)},children:Object(W.jsx)(y.a,{className:"Arrow",icon:k.faAngleUp})}),Object(W.jsx)("h3",{children:"Number of Works"})]}),Object(W.jsxs)(N,{children:[Object(W.jsx)(_,{onClick:function(n){n.preventDefault();var e=Q;nn(!$),V(!e)},children:Object(W.jsx)("div",{style:{background:$?"radial-gradient(#bdbdbd, #eeeeee)":""}})}),Object(W.jsx)("h3",{children:"Include Best Seller"})]})]}),Object(W.jsx)(R,{children:Object(W.jsx)(D,{firstAuth:d,FirstWork:t.work,firstBest:C,secondAuth:h,SecondWork:r.work,secondBest:J,Titles:O,included:Q})})]})},L=t(7),P=t(10),Q=t(18);function V(){return Object(W.jsx)("div",{children:Object(W.jsx)(Z,{})})}P.b.add(Q.b,Q.a),L.c.register.apply(L.c,Object(O.a)(L.j)),f.a.render(Object(W.jsx)(g.a.StrictMode,{children:Object(W.jsx)(V,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.3d746530.chunk.js.map